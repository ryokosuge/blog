---
import BlogLayout from "../../layouts/BlogLayout.astro";
import { getBlog, getBlogs } from "../../libs/microcms";

export const getStaticPaths = async () => {
  const blogs = await getBlogs();
  return blogs.contents.map((content) => ({
    params: {
      contentId: content.id,
    },
  }));
};

const { contentId } = Astro.params;
const blog = await getBlog({ contentId: contentId ?? "" });
---

<BlogLayout content={blog}>
  <div set:html={blog.content} />
</BlogLayout>
